{"ast":null,"code":"// Versão com CORS proxy\nexport async function fetchProductsWithProxy() {\n  const API_URL = 'https://app.econverse.com.br/teste-front-end/junior/tecnologia/lista-produtos/produtos.json';\n\n  // Lista de proxies CORS (use o primeiro que funcionar)\n  const proxies = ['',\n  // Tentar direto primeiro\n  'https://cors-anywhere.herokuapp.com/', 'https://api.allorigins.win/raw?url=', 'https://thingproxy.freeboard.io/fetch/'];\n  for (const proxy of proxies) {\n    try {\n      const url = proxy ? `${proxy}${encodeURIComponent(API_URL)}` : API_URL;\n      console.log(`Tentando com proxy: ${proxy || 'direto'}`);\n      const response = await fetch(url, {\n        method: 'GET',\n        headers: {\n          'Accept': 'application/json'\n        },\n        signal: AbortSignal.timeout(10000) // Timeout de 10 segundos\n      });\n      if (response.ok) {\n        const data = await response.json();\n        console.log(`✅ Sucesso com proxy: ${proxy || 'direto'}`);\n        return data;\n      }\n    } catch (error) {\n      console.log(`Proxy ${proxy || 'direto'} falhou:`, error.message);\n      continue;\n    }\n  }\n\n  // Se todos falharem, usa dados mock\n  console.log('❌ Todas as tentativas falharam, usando dados mock');\n  return getMockProducts();\n}\n\n// Função fallback com dados mock\nfunction getMockProducts() {\n  return [{\n    productName: \"Smartphone Premium\",\n    descriptionShort: \"Smartphone com tela AMOLED, 128GB, câmera tripla\",\n    photo: \"https://images.unsplash.com/photo-1598327105666-5b89351aff97?w=300&h=300&fit=crop\",\n    price: 2499.99,\n    installments: \"10x de R$ 249,99\"\n  }, {\n    productName: \"Notebook Profissional\",\n    descriptionShort: \"Notebook com processador i7, 16GB RAM, SSD 512GB\",\n    photo: \"https://images.unsplash.com/photo-1496181133206-80ce9b88a853?w=300&h=300&fit=crop\",\n    price: 4299.99,\n    installments: \"12x de R$ 358,33\"\n  }, {\n    productName: \"Fone Bluetooth\",\n    descriptionShort: \"Fone com cancelamento de ruído ativo, 30h bateria\",\n    photo: \"https://images.unsplash.com/photo-1505740420928-5e560c06d30e?w=300&h=300&fit=crop\",\n    price: 799.99,\n    installments: \"6x de R$ 133,33\"\n  }, {\n    productName: \"Smart Watch\",\n    descriptionShort: \"Monitor cardíaco, GPS, resistente à água\",\n    photo: \"https://images.unsplash.com/photo-1523275335684-37898b6baf30?w=300&h=300&fit=crop\",\n    price: 1199.99,\n    installments: \"8x de R$ 149,99\"\n  }, {\n    productName: \"Câmera DSLR\",\n    descriptionShort: \"Câmera profissional com lente 18-55mm, 4K\",\n    photo: \"https://images.unsplash.com/photo-1516035069371-29a1b244cc32?w=300&h=300&fit=crop\",\n    price: 3599.99,\n    installments: \"12x de R$ 299,99\"\n  }, {\n    productName: \"Monitor Gamer\",\n    descriptionShort: \"Monitor curvo 34'', 144Hz, WQHD\",\n    photo: \"https://images.unsplash.com/photo-1593640408182-31c70c8268f5?w=300&h=300&fit=crop\",\n    price: 2199.99,\n    installments: \"10x de R$ 219,99\"\n  }, {\n    productName: \"Teclado Mecânico\",\n    descriptionShort: \"Teclado gaming com switches Cherry, RGB\",\n    photo: \"https://images.unsplash.com/photo-1541140532154-b024d705b90a?w=300&h=300&fit=crop\",\n    price: 599.99,\n    installments: \"5x de R$ 119,99\"\n  }, {\n    productName: \"Console de Videogame\",\n    descriptionShort: \"Console última geração, 1TB SSD, 4K\",\n    photo: \"https://images.unsplash.com/photo-1606144042614-b2417e99c4e3?w=300&h=300&fit=crop\",\n    price: 3499.99,\n    installments: \"15x de R$ 233,33\"\n  }];\n}","map":{"version":3,"names":["fetchProductsWithProxy","API_URL","proxies","proxy","url","encodeURIComponent","console","log","response","fetch","method","headers","signal","AbortSignal","timeout","ok","data","json","error","message","getMockProducts","productName","descriptionShort","photo","price","installments"],"sources":["C:/Users/mathe/OneDrive/Área de Trabalho/projeto-pronto/src/services/api.ts"],"sourcesContent":["export interface Product {\r\n  productName: string;\r\n  descriptionShort: string;\r\n  photo: string;\r\n  price: number;\r\n  installments?: string;\r\n}\r\n\r\n// Versão com CORS proxy\r\nexport async function fetchProductsWithProxy(): Promise<Product[]> {\r\n  const API_URL = 'https://app.econverse.com.br/teste-front-end/junior/tecnologia/lista-produtos/produtos.json';\r\n  \r\n  // Lista de proxies CORS (use o primeiro que funcionar)\r\n  const proxies = [\r\n    '', // Tentar direto primeiro\r\n    'https://cors-anywhere.herokuapp.com/',\r\n    'https://api.allorigins.win/raw?url=',\r\n    'https://thingproxy.freeboard.io/fetch/'\r\n  ];\r\n  \r\n  for (const proxy of proxies) {\r\n    try {\r\n      const url = proxy ? `${proxy}${encodeURIComponent(API_URL)}` : API_URL;\r\n      console.log(`Tentando com proxy: ${proxy || 'direto'}`);\r\n      \r\n      const response = await fetch(url, {\r\n        method: 'GET',\r\n        headers: {\r\n          'Accept': 'application/json',\r\n        },\r\n        signal: AbortSignal.timeout(10000) // Timeout de 10 segundos\r\n      });\r\n      \r\n      if (response.ok) {\r\n        const data = await response.json();\r\n        console.log(`✅ Sucesso com proxy: ${proxy || 'direto'}`);\r\n        return data;\r\n      }\r\n    } catch (error) {\r\n      console.log(`Proxy ${proxy || 'direto'} falhou:`, error.message);\r\n      continue;\r\n    }\r\n  }\r\n  \r\n  // Se todos falharem, usa dados mock\r\n  console.log('❌ Todas as tentativas falharam, usando dados mock');\r\n  return getMockProducts();\r\n}\r\n\r\n// Função fallback com dados mock\r\nfunction getMockProducts(): Product[] {\r\n  return [\r\n    {\r\n      productName: \"Smartphone Premium\",\r\n      descriptionShort: \"Smartphone com tela AMOLED, 128GB, câmera tripla\",\r\n      photo: \"https://images.unsplash.com/photo-1598327105666-5b89351aff97?w=300&h=300&fit=crop\",\r\n      price: 2499.99,\r\n      installments: \"10x de R$ 249,99\"\r\n    },\r\n    {\r\n      productName: \"Notebook Profissional\",\r\n      descriptionShort: \"Notebook com processador i7, 16GB RAM, SSD 512GB\",\r\n      photo: \"https://images.unsplash.com/photo-1496181133206-80ce9b88a853?w=300&h=300&fit=crop\",\r\n      price: 4299.99,\r\n      installments: \"12x de R$ 358,33\"\r\n    },\r\n    {\r\n      productName: \"Fone Bluetooth\",\r\n      descriptionShort: \"Fone com cancelamento de ruído ativo, 30h bateria\",\r\n      photo: \"https://images.unsplash.com/photo-1505740420928-5e560c06d30e?w=300&h=300&fit=crop\",\r\n      price: 799.99,\r\n      installments: \"6x de R$ 133,33\"\r\n    },\r\n    {\r\n      productName: \"Smart Watch\",\r\n      descriptionShort: \"Monitor cardíaco, GPS, resistente à água\",\r\n      photo: \"https://images.unsplash.com/photo-1523275335684-37898b6baf30?w=300&h=300&fit=crop\",\r\n      price: 1199.99,\r\n      installments: \"8x de R$ 149,99\"\r\n    },\r\n    {\r\n      productName: \"Câmera DSLR\",\r\n      descriptionShort: \"Câmera profissional com lente 18-55mm, 4K\",\r\n      photo: \"https://images.unsplash.com/photo-1516035069371-29a1b244cc32?w=300&h=300&fit=crop\",\r\n      price: 3599.99,\r\n      installments: \"12x de R$ 299,99\"\r\n    },\r\n    {\r\n      productName: \"Monitor Gamer\",\r\n      descriptionShort: \"Monitor curvo 34'', 144Hz, WQHD\",\r\n      photo: \"https://images.unsplash.com/photo-1593640408182-31c70c8268f5?w=300&h=300&fit=crop\",\r\n      price: 2199.99,\r\n      installments: \"10x de R$ 219,99\"\r\n    },\r\n    {\r\n      productName: \"Teclado Mecânico\",\r\n      descriptionShort: \"Teclado gaming com switches Cherry, RGB\",\r\n      photo: \"https://images.unsplash.com/photo-1541140532154-b024d705b90a?w=300&h=300&fit=crop\",\r\n      price: 599.99,\r\n      installments: \"5x de R$ 119,99\"\r\n    },\r\n    {\r\n      productName: \"Console de Videogame\",\r\n      descriptionShort: \"Console última geração, 1TB SSD, 4K\",\r\n      photo: \"https://images.unsplash.com/photo-1606144042614-b2417e99c4e3?w=300&h=300&fit=crop\",\r\n      price: 3499.99,\r\n      installments: \"15x de R$ 233,33\"\r\n    }\r\n  ];\r\n}"],"mappings":"AAQA;AACA,OAAO,eAAeA,sBAAsBA,CAAA,EAAuB;EACjE,MAAMC,OAAO,GAAG,6FAA6F;;EAE7G;EACA,MAAMC,OAAO,GAAG,CACd,EAAE;EAAE;EACJ,sCAAsC,EACtC,qCAAqC,EACrC,wCAAwC,CACzC;EAED,KAAK,MAAMC,KAAK,IAAID,OAAO,EAAE;IAC3B,IAAI;MACF,MAAME,GAAG,GAAGD,KAAK,GAAG,GAAGA,KAAK,GAAGE,kBAAkB,CAACJ,OAAO,CAAC,EAAE,GAAGA,OAAO;MACtEK,OAAO,CAACC,GAAG,CAAC,uBAAuBJ,KAAK,IAAI,QAAQ,EAAE,CAAC;MAEvD,MAAMK,QAAQ,GAAG,MAAMC,KAAK,CAACL,GAAG,EAAE;QAChCM,MAAM,EAAE,KAAK;QACbC,OAAO,EAAE;UACP,QAAQ,EAAE;QACZ,CAAC;QACDC,MAAM,EAAEC,WAAW,CAACC,OAAO,CAAC,KAAK,CAAC,CAAC;MACrC,CAAC,CAAC;MAEF,IAAIN,QAAQ,CAACO,EAAE,EAAE;QACf,MAAMC,IAAI,GAAG,MAAMR,QAAQ,CAACS,IAAI,CAAC,CAAC;QAClCX,OAAO,CAACC,GAAG,CAAC,wBAAwBJ,KAAK,IAAI,QAAQ,EAAE,CAAC;QACxD,OAAOa,IAAI;MACb;IACF,CAAC,CAAC,OAAOE,KAAK,EAAE;MACdZ,OAAO,CAACC,GAAG,CAAC,SAASJ,KAAK,IAAI,QAAQ,UAAU,EAAEe,KAAK,CAACC,OAAO,CAAC;MAChE;IACF;EACF;;EAEA;EACAb,OAAO,CAACC,GAAG,CAAC,mDAAmD,CAAC;EAChE,OAAOa,eAAe,CAAC,CAAC;AAC1B;;AAEA;AACA,SAASA,eAAeA,CAAA,EAAc;EACpC,OAAO,CACL;IACEC,WAAW,EAAE,oBAAoB;IACjCC,gBAAgB,EAAE,kDAAkD;IACpEC,KAAK,EAAE,mFAAmF;IAC1FC,KAAK,EAAE,OAAO;IACdC,YAAY,EAAE;EAChB,CAAC,EACD;IACEJ,WAAW,EAAE,uBAAuB;IACpCC,gBAAgB,EAAE,kDAAkD;IACpEC,KAAK,EAAE,mFAAmF;IAC1FC,KAAK,EAAE,OAAO;IACdC,YAAY,EAAE;EAChB,CAAC,EACD;IACEJ,WAAW,EAAE,gBAAgB;IAC7BC,gBAAgB,EAAE,mDAAmD;IACrEC,KAAK,EAAE,mFAAmF;IAC1FC,KAAK,EAAE,MAAM;IACbC,YAAY,EAAE;EAChB,CAAC,EACD;IACEJ,WAAW,EAAE,aAAa;IAC1BC,gBAAgB,EAAE,0CAA0C;IAC5DC,KAAK,EAAE,mFAAmF;IAC1FC,KAAK,EAAE,OAAO;IACdC,YAAY,EAAE;EAChB,CAAC,EACD;IACEJ,WAAW,EAAE,aAAa;IAC1BC,gBAAgB,EAAE,2CAA2C;IAC7DC,KAAK,EAAE,mFAAmF;IAC1FC,KAAK,EAAE,OAAO;IACdC,YAAY,EAAE;EAChB,CAAC,EACD;IACEJ,WAAW,EAAE,eAAe;IAC5BC,gBAAgB,EAAE,iCAAiC;IACnDC,KAAK,EAAE,mFAAmF;IAC1FC,KAAK,EAAE,OAAO;IACdC,YAAY,EAAE;EAChB,CAAC,EACD;IACEJ,WAAW,EAAE,kBAAkB;IAC/BC,gBAAgB,EAAE,yCAAyC;IAC3DC,KAAK,EAAE,mFAAmF;IAC1FC,KAAK,EAAE,MAAM;IACbC,YAAY,EAAE;EAChB,CAAC,EACD;IACEJ,WAAW,EAAE,sBAAsB;IACnCC,gBAAgB,EAAE,qCAAqC;IACvDC,KAAK,EAAE,mFAAmF;IAC1FC,KAAK,EAAE,OAAO;IACdC,YAAY,EAAE;EAChB,CAAC,CACF;AACH","ignoreList":[]},"metadata":{},"sourceType":"module"}