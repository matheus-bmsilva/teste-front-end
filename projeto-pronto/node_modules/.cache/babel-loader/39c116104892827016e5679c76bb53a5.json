{"ast":null,"code":"// Função que tenta pegar da API, se falhar usa dados locais\nexport async function fetchProducts() {\n  const API_URL = 'https://app.econverse.com.br/teste-front-end/junior/tecnologia/lista-produtos/produtos.json';\n  try {\n    console.log('Tentando buscar produtos da API econverse...');\n\n    // Usando try-catch com fallback\n    const response = await fetch(API_URL, {\n      method: 'GET',\n      headers: {\n        'Accept': 'application/json',\n        'Content-Type': 'application/json'\n      },\n      // Tentativa de resolver CORS\n      mode: 'cors',\n      credentials: 'omit'\n    });\n    console.log('Status da resposta:', response.status);\n    if (!response.ok) {\n      throw new Error(`API retornou status ${response.status}`);\n    }\n    const data = await response.json();\n    console.log(`✅ Sucesso! ${data.length} produtos carregados da API`);\n\n    // Retorna os dados se a requisição foi bem-sucedida\n    return data;\n  } catch (error) {\n    console.error('Erro ao buscar produtos da API:', error);\n    console.log('Usando dados mock como fallback...');\n    return getMockProducts();\n  }\n}\n\n// Versão com CORS proxy\nexport async function fetchProductsWithProxy() {\n  const API_URL = 'https://app.econverse.com.br/teste-front-end/junior/tecnologia/lista-produtos/produtos.json';\n\n  // Lista de proxies CORS (use o primeiro que funcionar)\n  const proxies = ['',\n  // Tentar direto primeiro\n  'https://cors-anywhere.herokuapp.com/', 'https://api.allorigins.win/raw?url=', 'https://thingproxy.freeboard.io/fetch/'];\n  for (const proxy of proxies) {\n    try {\n      const url = proxy ? `${proxy}${encodeURIComponent(API_URL)}` : API_URL;\n      console.log(`Tentando com proxy: ${proxy || 'direto'}`);\n      const response = await fetch(url, {\n        method: 'GET',\n        headers: {\n          'Accept': 'application/json'\n        },\n        signal: AbortSignal.timeout(10000) // Timeout de 10 segundos\n      });\n      if (response.ok) {\n        const data = await response.json();\n        console.log(`✅ Sucesso com proxy: ${proxy || 'direto'}`);\n        return data;\n      }\n    } catch (error) {\n      console.log(`Proxy ${proxy || 'direto'} falhou:`, error.message);\n      continue;\n    }\n  }\n\n  // Se todos falharem, usa dados mock\n  console.log('❌ Todas as tentativas falharam, usando dados mock');\n  return getMockProducts();\n}\n\n// Função fallback com dados mock\nfunction getMockProducts() {\n  return [{\n    productName: \"Smartphone Premium\",\n    descriptionShort: \"Smartphone com tela AMOLED, 128GB, câmera tripla\",\n    photo: \"https://images.unsplash.com/photo-1598327105666-5b89351aff97?w=300&h=300&fit=crop\",\n    price: 2499.99,\n    installments: \"10x de R$ 249,99\"\n  }, {\n    productName: \"Notebook Profissional\",\n    descriptionShort: \"Notebook com processador i7, 16GB RAM, SSD 512GB\",\n    photo: \"https://images.unsplash.com/photo-1496181133206-80ce9b88a853?w=300&h=300&fit=crop\",\n    price: 4299.99,\n    installments: \"12x de R$ 358,33\"\n  }, {\n    productName: \"Fone Bluetooth\",\n    descriptionShort: \"Fone com cancelamento de ruído ativo, 30h bateria\",\n    photo: \"https://images.unsplash.com/photo-1505740420928-5e560c06d30e?w=300&h=300&fit=crop\",\n    price: 799.99,\n    installments: \"6x de R$ 133,33\"\n  }, {\n    productName: \"Smart Watch\",\n    descriptionShort: \"Monitor cardíaco, GPS, resistente à água\",\n    photo: \"https://images.unsplash.com/photo-1523275335684-37898b6baf30?w=300&h=300&fit=crop\",\n    price: 1199.99,\n    installments: \"8x de R$ 149,99\"\n  }, {\n    productName: \"Câmera DSLR\",\n    descriptionShort: \"Câmera profissional com lente 18-55mm, 4K\",\n    photo: \"https://images.unsplash.com/photo-1516035069371-29a1b244cc32?w=300&h=300&fit=crop\",\n    price: 3599.99,\n    installments: \"12x de R$ 299,99\"\n  }, {\n    productName: \"Monitor Gamer\",\n    descriptionShort: \"Monitor curvo 34'', 144Hz, WQHD\",\n    photo: \"https://images.unsplash.com/photo-1593640408182-31c70c8268f5?w=300&h=300&fit=crop\",\n    price: 2199.99,\n    installments: \"10x de R$ 219,99\"\n  }, {\n    productName: \"Teclado Mecânico\",\n    descriptionShort: \"Teclado gaming com switches Cherry, RGB\",\n    photo: \"https://images.unsplash.com/photo-1541140532154-b024d705b90a?w=300&h=300&fit=crop\",\n    price: 599.99,\n    installments: \"5x de R$ 119,99\"\n  }, {\n    productName: \"Console de Videogame\",\n    descriptionShort: \"Console última geração, 1TB SSD, 4K\",\n    photo: \"https://images.unsplash.com/photo-1606144042614-b2417e99c4e3?w=300&h=300&fit=crop\",\n    price: 3499.99,\n    installments: \"15x de R$ 233,33\"\n  }];\n}","map":{"version":3,"names":["fetchProducts","API_URL","console","log","response","fetch","method","headers","mode","credentials","status","ok","Error","data","json","length","error","getMockProducts","fetchProductsWithProxy","proxies","proxy","url","encodeURIComponent","signal","AbortSignal","timeout","message","productName","descriptionShort","photo","price","installments"],"sources":["C:/Users/mathe/OneDrive/Documentos/GitHub/teste front-end/teste-front-end/projeto-pronto/src/services/api.ts"],"sourcesContent":["export interface Product {\r\n  productName: string;\r\n  descriptionShort: string;\r\n  photo: string;\r\n  price: number;\r\n  installments?: string;\r\n}\r\n\r\n// Função que tenta pegar da API, se falhar usa dados locais\r\nexport async function fetchProducts(): Promise<Product[]> {\r\n  const API_URL = 'https://app.econverse.com.br/teste-front-end/junior/tecnologia/lista-produtos/produtos.json';\r\n  \r\n  try {\r\n    console.log('Tentando buscar produtos da API econverse...');\r\n    \r\n    // Usando try-catch com fallback\r\n    const response = await fetch(API_URL, {\r\n      method: 'GET',\r\n      headers: {\r\n        'Accept': 'application/json',\r\n        'Content-Type': 'application/json',\r\n      },\r\n      // Tentativa de resolver CORS\r\n      mode: 'cors',\r\n      credentials: 'omit'\r\n    });\r\n    \r\n    console.log('Status da resposta:', response.status);\r\n    \r\n    if (!response.ok) {\r\n      throw new Error(`API retornou status ${response.status}`);\r\n    }\r\n    \r\n    const data = await response.json();\r\n    console.log(`✅ Sucesso! ${data.length} produtos carregados da API`);\r\n    \r\n    // Retorna os dados se a requisição foi bem-sucedida\r\n    return data;\r\n    \r\n  } catch (error) {\r\n    console.error('Erro ao buscar produtos da API:', error);\r\n    console.log('Usando dados mock como fallback...');\r\n    return getMockProducts();\r\n  }\r\n}\r\n\r\n// Versão com CORS proxy\r\nexport async function fetchProductsWithProxy(): Promise<Product[]> {\r\n  const API_URL = 'https://app.econverse.com.br/teste-front-end/junior/tecnologia/lista-produtos/produtos.json';\r\n  \r\n  // Lista de proxies CORS (use o primeiro que funcionar)\r\n  const proxies = [\r\n    '', // Tentar direto primeiro\r\n    'https://cors-anywhere.herokuapp.com/',\r\n    'https://api.allorigins.win/raw?url=',\r\n    'https://thingproxy.freeboard.io/fetch/'\r\n  ];\r\n  \r\n  for (const proxy of proxies) {\r\n    try {\r\n      const url = proxy ? `${proxy}${encodeURIComponent(API_URL)}` : API_URL;\r\n      console.log(`Tentando com proxy: ${proxy || 'direto'}`);\r\n      \r\n      const response = await fetch(url, {\r\n        method: 'GET',\r\n        headers: {\r\n          'Accept': 'application/json',\r\n        },\r\n        signal: AbortSignal.timeout(10000) // Timeout de 10 segundos\r\n      });\r\n      \r\n      if (response.ok) {\r\n        const data = await response.json();\r\n        console.log(`✅ Sucesso com proxy: ${proxy || 'direto'}`);\r\n        return data;\r\n      }\r\n    } catch (error) {\r\n      console.log(`Proxy ${proxy || 'direto'} falhou:`, error.message);\r\n      continue;\r\n    }\r\n  }\r\n  \r\n  // Se todos falharem, usa dados mock\r\n  console.log('❌ Todas as tentativas falharam, usando dados mock');\r\n  return getMockProducts();\r\n}\r\n\r\n// Função fallback com dados mock\r\nfunction getMockProducts(): Product[] {\r\n  return [\r\n    {\r\n      productName: \"Smartphone Premium\",\r\n      descriptionShort: \"Smartphone com tela AMOLED, 128GB, câmera tripla\",\r\n      photo: \"https://images.unsplash.com/photo-1598327105666-5b89351aff97?w=300&h=300&fit=crop\",\r\n      price: 2499.99,\r\n      installments: \"10x de R$ 249,99\"\r\n    },\r\n    {\r\n      productName: \"Notebook Profissional\",\r\n      descriptionShort: \"Notebook com processador i7, 16GB RAM, SSD 512GB\",\r\n      photo: \"https://images.unsplash.com/photo-1496181133206-80ce9b88a853?w=300&h=300&fit=crop\",\r\n      price: 4299.99,\r\n      installments: \"12x de R$ 358,33\"\r\n    },\r\n    {\r\n      productName: \"Fone Bluetooth\",\r\n      descriptionShort: \"Fone com cancelamento de ruído ativo, 30h bateria\",\r\n      photo: \"https://images.unsplash.com/photo-1505740420928-5e560c06d30e?w=300&h=300&fit=crop\",\r\n      price: 799.99,\r\n      installments: \"6x de R$ 133,33\"\r\n    },\r\n    {\r\n      productName: \"Smart Watch\",\r\n      descriptionShort: \"Monitor cardíaco, GPS, resistente à água\",\r\n      photo: \"https://images.unsplash.com/photo-1523275335684-37898b6baf30?w=300&h=300&fit=crop\",\r\n      price: 1199.99,\r\n      installments: \"8x de R$ 149,99\"\r\n    },\r\n    {\r\n      productName: \"Câmera DSLR\",\r\n      descriptionShort: \"Câmera profissional com lente 18-55mm, 4K\",\r\n      photo: \"https://images.unsplash.com/photo-1516035069371-29a1b244cc32?w=300&h=300&fit=crop\",\r\n      price: 3599.99,\r\n      installments: \"12x de R$ 299,99\"\r\n    },\r\n    {\r\n      productName: \"Monitor Gamer\",\r\n      descriptionShort: \"Monitor curvo 34'', 144Hz, WQHD\",\r\n      photo: \"https://images.unsplash.com/photo-1593640408182-31c70c8268f5?w=300&h=300&fit=crop\",\r\n      price: 2199.99,\r\n      installments: \"10x de R$ 219,99\"\r\n    },\r\n    {\r\n      productName: \"Teclado Mecânico\",\r\n      descriptionShort: \"Teclado gaming com switches Cherry, RGB\",\r\n      photo: \"https://images.unsplash.com/photo-1541140532154-b024d705b90a?w=300&h=300&fit=crop\",\r\n      price: 599.99,\r\n      installments: \"5x de R$ 119,99\"\r\n    },\r\n    {\r\n      productName: \"Console de Videogame\",\r\n      descriptionShort: \"Console última geração, 1TB SSD, 4K\",\r\n      photo: \"https://images.unsplash.com/photo-1606144042614-b2417e99c4e3?w=300&h=300&fit=crop\",\r\n      price: 3499.99,\r\n      installments: \"15x de R$ 233,33\"\r\n    }\r\n  ];\r\n}"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module"}